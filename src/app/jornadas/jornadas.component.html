<div class="main-content body">
    <div class="container-fluid">

        <nav class="navbar navbar-expand-lg navbar-light bg-dark">
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <button type="button" class="btn btn-dark" (click)="verJornada()" style="margin-left:5%">Ver Jornadas </button>
                    <button type="button" *ngIf=" authServ.userType === 'superAdmin' || authServ.userType === 'admin'" class="btn btn-dark" (click)="addJornada()" style="margin-left:5%">Crear Jornada</button>
                    <button type="button" *ngIf=" authServ.userType === 'superAdmin' || authServ.userType === 'admin'" class="btn btn-dark" (click)="addResultado()" style="margin-left:5%">Agregar resultado de jornada.</button>
                    <!-- <button type="button" class="btn btn-dark" style="margin-left:5%">Buscar Nota </button> -->
                </div>
            </div>
        </nav>


        <div style="text-align:center;" *ngIf="ver">
            <div style="margin-top:2%;margin-left:2%;margin-right:2%">
                <div class="list-group">
                    <button type="button" class="list-group-item list-group-item-action active">
                      Jornadas del torneo actual
                    </button>
                    <div *ngFor="let jornada of jornadaList; let i= index;">
                        <button type="button" class="list-group-item list-group-item-action" (click)="mostrarPartidosJornada(jornada)">
                            {{jornada.data.name}}
                            <div >
                               <p id="{{jornada.key}}"></p>
                            </div>
                          </button>
                    </div>
                </div>
            </div>
        </div>



        <!-- Añade resultados a  Jornada-->
        <div style="margin-left:10%; margin-right:10%;margin-top:2%" *ngIf="addResult">
            <div class="list-group">

                <div *ngFor=" let match of jornadasSinResult; let i = index;">
                    <button type="button" class="list-group-item list-group-item-action" (click)="desplegarForm(i)">
                         <label style="color:brown"> {{match.jornada}}. </label>  {{match.data.nameLocalTeam}} VS {{match.data.nameVisitTeam}}
                         <small style="color:grey" > Resultado sin definir</small>
                         <form id="res{{i}}" style="visibility:hidden">
                           <input  type="number" id="local{{i}}" placeholder="Resultado equipo local" required="required">
                           <strong> - - - </strong>
                           <input type="number" id="visita{{i}}" placeholder="Resultado equipo visita" required="required">
                           <button type="button" class="btn btn-outline-success btn-sm" (click)="resultadoJornada(match,i)" >Agregar Resultado</button>
                    </form>
                    </button>
                </div>
            </div>
        </div>



        <!-- Crear Jornada nueva -->
        <div style="margin-left:10%; margin-right:10%;margin-top:2%" *ngIf="create">
            <div>
                <button (click)="ocultaForm1()" style="background-color:white;float:left;margin-right:2%;" *ngIf="formActivate"><img src="../../assets/icons/up.png" alt="" width="30px;" height="30px;"  ></button>
                <button (click)="muestraForm1()" style="background-color:white;float:left;margin-right:2%;" *ngIf="!formActivate"><img src="../../assets/icons/down.png" alt="" width="30px;" height="30px;"  ></button>
                <span style="font-size:30px;color:teal;">Información General de la Jornada</span>
            </div>

            <form id="register-form" role="form" *ngIf="formActivate">
                <div class="form-row" style="border-style:outset;">

                    <br>
                    <div class="form-group col-md-6">
                        <label for="sel1">Torneo</label>
                        <select class="form-control" id="torneo" name="torneo" [(ngModel)]="torneo">
                           <option *ngFor="let torneo of torneoList;"  value="{{torneo.key}}" >{{torneo.data.name}}</option>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label>Nombre de la Jornada </label>
                        <input type="text" name="name" tabindex="1" [(ngModel)]="name" class="form-control" placeholder="Jornada #11 / Semifinal#2 ">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Fecha de Inicio</label>
                        <input type="date" name="fecha" tabindex="2" [(ngModel)]="fechaInicio" class="form-control">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Fecha de finalización</label>
                        <input type="date" name="fecha" tabindex="2" [(ngModel)]="fechaFin" class="form-control">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="sel1">Tipo de Jornada</label>
                        <select class="form-control" id="typeJornada" name="typeJornada" [(ngModel)]="typeJornada">
                         <option value="Regular" >Regular</option>
                         <option value="Semifinal" >Semifinal</option>
                         <option value="Final" >Final</option>
                      </select>
                    </div>
                </div>

            </form>
            <hr style="border-top: 2px dashed rgb(128, 124, 124);">
            <br>
            <div>
                <button (click)="nuevoPartido()" style="text-align:center; color:green;background-color:burlywood"> <i class="fa fa-check-circle" aria-hidden="true"></i>Añadir Partido a la Jornada</button>
                <br><br>
                <div *ngIf="newMatch" style="border-style:outset; text-align:center; padding-left:1%;padding-right:1%;">
                    <form action="">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="sel1">Local</label>
                                <select class="form-control" id="local" name="teamLocal" [(ngModel)]="teamLocal">
                                   <option *ngFor="let team of equiposList;"  value="{{team.key}}" >{{team.data.name}}</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="sel1">Visitante</label>
                                <select class="form-control" id="visit" name="teamVisita" [(ngModel)]="teamVisita">
                                   <option *ngFor="let team of equiposList;"  value="{{team.key}}" >{{team.data.name}}</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label>Sede del Partido</label>
                                <input type="text" name="sedeMatch" tabindex="2" [(ngModel)]="sedeMatch" class="form-control" placeholder="22/10/2018 12:00pm">
                            </div>
                            <div class="form-group col-md-6">
                                <label>Fecha y Hora</label>
                                <input type="text" name="fechaMatch" tabindex="2" [(ngModel)]="fechaMatch" class="form-control" placeholder="22/10/2018 12:00pm">
                            </div>
                            <div class="form-group col-md-6">
                                <button (click)="addMatch()"> Añadir partido </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- <div *ngIf "matchsJornada.length>0" *ngFor="let match of matchsJornada">
                <p>{{match.nameLocalTeam}} VS {{match.nameVisitTeam}} </p>
            </div> -->

            <br>
            <div *ngIf="matchReady">
                <button type="button" name="login-submit" id="login-submit" tabindex="2" (click)="createjournal()">Crear Jornada</button>
            </div>


        </div>
    </div>
</div>